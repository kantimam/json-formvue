{"remainingRequest":"/Users/k.imamov/Desktop/json-formvue/json-formvue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/k.imamov/Desktop/json-formvue/json-formvue/src/components/multi_step_form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/k.imamov/Desktop/json-formvue/json-formvue/src/components/multi_step_form.vue","mtime":1631895714990},{"path":"/Users/k.imamov/Desktop/json-formvue/json-formvue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k.imamov/Desktop/json-formvue/json-formvue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/k.imamov/Desktop/json-formvue/json-formvue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/k.imamov/Desktop/json-formvue/json-formvue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFZGb3JtLCBWQnRuIH0gZnJvbSAndnVldGlmeS9saWInOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHsKICAgICAgVkZvcm0sCiAgICAgIFZCdG4KICB9LAogIGNvbXB1dGVkOiB7CiAgICBmb3JtQ29uZmlnKCl7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEN1cnJlbnRTY2hlbWEKICAgIH0sCgogICAgY3VycmVudFN0ZXAoKXsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmN1cnJlbnRTdGVwCiAgICB9LAoKICAgIGxhc3RTdGVwKCl7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sYXN0U3RlcAogICAgfSwKCiAgICBpc0xhc3RTdGVwKCl7CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRTdGVwPT09dGhpcy5sYXN0U3RlcAogICAgfSwKICAgIGJ1dHRvbkxhYmVscygpewogICAgICByZXR1cm4gKHRoaXMuZm9ybUNvbmZpZyAmJiAKICAgICAgICAgICAgICB0aGlzLmZvcm1Db25maWcuYXBpICYmIAogICAgICAgICAgICAgIHRoaXMuZm9ybUNvbmZpZy5hcGkucGFnZSAmJiAKICAgICAgICAgICAgICB0aGlzLmZvcm1Db25maWcuYXBpLnBhZ2UubGFiZWxzKQogICAgfSwKICAgIHByZXZpb3VzQnV0dG9uTGFiZWwoKXsKICAgICAgcmV0dXJuIHRoaXMuYnV0dG9uTGFiZWxzICYmIHRoaXMuYnV0dG9uTGFiZWxzLnByZXZpb3VzQnV0dG9uTGFiZWwgfHwgInByZXZpb3VzIHN0ZXAiCiAgICB9LAoKICAgIG5leHRCdXR0b25MYWJlbCgpewogICAgICByZXR1cm4gdGhpcy5idXR0b25MYWJlbHMgJiYgdGhpcy5idXR0b25MYWJlbHMubmV4dEJ1dHRvbkxhYmVsIHx8ICJuZXh0IHN0ZXAiCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZW5lcmF0ZUZvcm1GaWVsZE5hbWUoaW5wdXROYW1lKXsKICAgICAgcmV0dXJuYHR4X2Zvcm1fZm9ybWZyYW1ld29ya1ske3RoaXMuZm9ybUNvbmZpZy5pZH1dWyR7aW5wdXROYW1lfV1gCiAgICB9LAogICAgaGFuZGxlRm9ybVN1Ym1pdCgpewogICAgICBjb25zdCBmb3JtPXRoaXMuJHJlZnMuZm9ybTsKICAgICAgaWYoZm9ybSkgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3N1Ym1pdFN0ZXAnLCBmb3JtKTsKICAgICAgZWxzZSBjb25zb2xlLmxvZygiY291bGQgbm90IGZpbmQgZm9ybSBlbGVtZW50IikKICAgIH0sCiAgICBsb2FkUHJldmlvdXNTdGVwKCl7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlRm9ybVN0ZXAnLCB0aGlzLmN1cnJlbnRTdGVwIC0gMSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["multi_step_form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"multi_step_form.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <h2 class=\"mb-4\">step {{currentStep}} of {{lastStep}}</h2>\n    <v-form \n      :id=\"formConfig.id\" \n      @submit.prevent=\"handleFormSubmit\" \n      ref=\"form\"\n      :name=\"formConfig.identifier\"\n    >\n      <field-renderer\n          v-for=\"fieldData in formConfig.elements\"\n          :key=\"fieldData.identifier\"\n          :formName=\"formConfig.id\"\n          :fieldData=\"fieldData\"\n      />\n      <div class=\"d-flex justify-space-between mt-4\">\n        <v-btn\n          type=\"button\"\n          v-if=\"currentStep>1\"\n          @click=\"loadPreviousStep\"\n        >\n          {{previousButtonLabel}}\n        </v-btn>\n\n        <v-btn\n          type=\"submit\"\n          v-if=\"isLastStep\"\n        >\n          {{nextButtonLabel}}\n        </v-btn>\n        <v-btn\n          type=\"submit\"\n          v-else\n        >\n          {{nextButtonLabel}}\n        </v-btn>\n      </div>\n    \n    </v-form>\n  </div>\n \n</template>\n\n<script>\n  import { VForm, VBtn } from 'vuetify/lib';\n\n  export default {\n    name: 'App',\n    components: {\n        VForm,\n        VBtn\n    },\n    computed: {\n      formConfig(){\n        return this.$store.getters.getCurrentSchema\n      },\n\n      currentStep(){\n        return this.$store.state.currentStep\n      },\n\n      lastStep(){\n        return this.$store.state.lastStep\n      },\n\n      isLastStep(){\n        return this.currentStep===this.lastStep\n      },\n      buttonLabels(){\n        return (this.formConfig && \n                this.formConfig.api && \n                this.formConfig.api.page && \n                this.formConfig.api.page.labels)\n      },\n      previousButtonLabel(){\n        return this.buttonLabels && this.buttonLabels.previousButtonLabel || \"previous step\"\n      },\n\n      nextButtonLabel(){\n        return this.buttonLabels && this.buttonLabels.nextButtonLabel || \"next step\"\n      }\n    },\n    methods: {\n      generateFormFieldName(inputName){\n        return`tx_form_formframework[${this.formConfig.id}][${inputName}]`\n      },\n      handleFormSubmit(){\n        const form=this.$refs.form;\n        if(form) this.$store.dispatch('submitStep', form);\n        else console.log(\"could not find form element\")\n      },\n      loadPreviousStep(){\n        this.$store.commit('updateFormStep', this.currentStep - 1)\n      }\n    }\n  }\n</script>\n"]}]}